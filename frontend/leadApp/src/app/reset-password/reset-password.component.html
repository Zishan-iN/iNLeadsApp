<div class="container">
    <app-header></app-header>   
    <div class="row justify-content-md-center my-5">
        <div class="col-md-4">
            <mat-card class="mt-md-5" class="text-center">
            <mat-card-title color="primary">Reset password</mat-card-title>
            <app-alert-message></app-alert-message>
            <mat-card-content>
                <form [formGroup]="resetPasswordForm" (ngSubmit)="submit()">
                    <p>
                        <mat-form-field>
                          <input [type]="showNewPassword  ? 'password' : 'text'" matInput placeholder="New Password" formControlName="password" (keyup)="showStrengthmeter()">
                          <fa-icon *ngIf="showNewPassword" [icon]="faEye" class="field-icon" (click)="togglePassword('show', 'new')"
                          tooltip="Show password" placement="bottom">
                          </fa-icon>
                          <fa-icon *ngIf="!showNewPassword" [icon]="faEyeSlash" class="field-icon"
                            (click)="togglePassword('hide', 'new')" tooltip="Hide password" placement="bottom">
                          </fa-icon>
                          <mat-error *ngIf="resetPasswordForm?.get('password')?.errors?.minlength || resetPasswordForm?.get('password')?.errors?.maxlength">
                            Password must be between 8 and 12 character.
                          </mat-error>
                          <mat-error *ngIf="resetPasswordForm?.get('password')?.errors?.required">
                            Password is required
                          </mat-error>
                        </mat-form-field>
                        <app-password-strength *ngIf="show" [passwordToCheck]="resetPasswordForm.value.password"></app-password-strength>
                    </p>
                    <p>
                        <mat-form-field>
                          <input [type]="showConfirmPassword ? 'password' : 'text'" matInput placeholder="Confirm new password" formControlName="confirmPassword">
                          <fa-icon *ngIf="showConfirmPassword" [icon]="faEye" class="field-icon" (click)="togglePassword('show', 'confirm')"
                          tooltip="Show password" placement="bottom">
                          </fa-icon>
                          <fa-icon *ngIf="!showConfirmPassword" [icon]="faEyeSlash" class="field-icon"
                            (click)="togglePassword('hide', 'confirm')" tooltip="Hide password" placement="bottom">
                          </fa-icon>
                          <mat-error *ngIf="resetPasswordForm?.get('confirmPassword')?.errors?.minlength || resetPasswordForm?.get('confirmPassword')?.errors?.maxlength">
                            Field must be between 8 and 12 character.
                          </mat-error>
                          <mat-error *ngIf="resetPasswordForm?.get('confirmPassword')?.errors?.required">
                            Field is required
                          </mat-error>
                          <mat-error *ngIf="resetPasswordForm?.get('confirmPassword')?.errors?.mustMatch">
                            Password do not match, please re-enter.
                          </mat-error>
                        </mat-form-field>
                    </p>
                <div class="button my-4">
                <button type="submit" mat-raised-button color="primary">Submit</button>
                </div>
                <p>
                    <mat-card-subtitle class="text-center" color="primary">
                        <a routerLink="/">Back to Sign in?</a>
                    </mat-card-subtitle>
                    </p>
                </form>
            </mat-card-content>
            </mat-card>
        </div>
    </div>
    <app-footer></app-footer>
</div>
